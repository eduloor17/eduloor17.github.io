<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expert Racquet Stringing - Precision Tennis</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="images/tennis-logo.png" alt="Your Tennis Stringing Business Logo">
        </div>
        <div class="container">
              <h1>Precision Tennis</h1>
              <p class="tagline">Your Home for Tennis Excellence</p>
        </div>
    </header>

    <main class="container">
        <section id="intro" class="section-block">
            <h2>E X P E R T - R A C Q U E T - S T R I N G I N G</h2>
            <p>We offer unparalleled precision and personalized service to optimize your racquet's performance. As a dedicated local service, we are your trusted partner for stringing needs, serving all players from **aspiring amateurs** to **seasoned competitors.**</p>
            <p>We utilize an **electric tensioner**, the same advanced technology trusted by top professionals like **Jannik Sinner** or **Carlos Alcaraz**, ensuring consistent and accurate string tension every time.</p>
        </section>

        <section id="tension-calculator" class="section-block">
            <h2>ðŸŽ¾ Perfect Tension Calculator</h2>
            <p>Use our interactive calculator to discover your **ideal string tension** and see how it affects **Control, Power, and Spin** instantly.</p>

            <div class="calculator-container">
                <section class="tension-setter">
                    <h3>Set Your Tension & Differential (in lbs)</h3>
                    
                    <div style="display: flex; justify-content: space-around; margin-bottom: 20px;">
                        <div style="width: 45%;">
                            <h4>Mains (Vertical) Tension</h4>
                            <div class="tension-display">
                                <span>Min: 40 lbs</span>
                                <span id="current-mains-value">55 lbs</span>
                                <span>Max: 65 lbs</span>
                            </div>
                            <div class="slider-wrapper">
                                <input type="range" id="mains-slider" min="40" max="65" value="55" step="1">
                            </div>
                        </div>

                        <div style="width: 45%;">
                            <h4>Crosses Drop (Differential)</h4>
                            <div class="tension-display">
                                <span>Drop: 0 lbs</span>
                                <span id="current-differential-value">2 lbs</span>
                                <span>Drop: 5 lbs</span>
                            </div>
                            <div class="slider-wrapper">
                                <input type="range" id="differential-slider" min="0" max="5" value="2" step="1">
                            </div>
                        </div>
                    </div>

                    <p style="text-align: center; font-size: 1.2em; font-weight: 700; color: #004d40; margin-top: 10px;">
                        Final Setup: <span id="final-mains-display">55 lbs Mains</span> / <span id="final-crosses-display">53 lbs Crosses</span>
                    </p>

                    <p style="text-align: center; font-size: 1.1em; font-weight: 500;">
                        Average Tension Driving Scores: <span id="current-tension-value">54 lbs</span>
                    </p>

                    <p id="tension-description" class="note-description">**Balanced:** Great starting point for all-around play. (2 lbs drop is standard for increased feel).</p>
                </section>

                <section class="attribute-grid">
                    <div class="attribute-card control">
                        <h4>Control</h4>
                        <div class="score" id="control-score">70</div>
                        <div class="bar-container"><div class="bar" id="control-bar" style="width: 70%;"></div></div>
                        <p class="attribute-label">Placement precision.</p>
                    </div>
                    
                    <div class="attribute-card power">
                        <h4>Power</h4>
                        <div class="score" id="power-score">70</div>
                        <div class="bar-container"><div class="bar" id="power-bar" style="width: 70%;"></div></div>
                        <p class="attribute-label">Ball speed and depth.</p>
                    </div>

                    <div class="attribute-card spin">
                        <h4>Spin</h4>
                        <div class="score" id="spin-score">85</div>
                        <div class="bar-container"><div class="bar" id="spin-bar" style="width: 85%;"></div></div>
                        <p class="attribute-label">Rotation generation.</p>
                    </div>
                </section>
                
                <section class="detailed-analysis">
                    <h4>Detailed Tension Analysis & Tip</h4>
                    <p id="tension-recommendation" class="tip-recommendation">**Recommended for:** All-court players, standard setup, seeking consistency and depth.</p>
                    <div class="tip-box">
                        <p><strong>Pro Tip:</strong> <span id="string-tip">This setup works great with co-poly strings.</span></p>
                    </div>
                </section>
            </div>
        </section>
        <section id="services" class="section-block">
            <h2>Our Stringing Services</h2>

            <h3>Bring Your Own String:</h3>
            <ul>
                <li><strong>$20</strong> &mdash; 24/48-hour turnaround</li>
                <li><strong>$25</strong> &mdash; <strong>Express Service:</strong> Less than 1-hour turnaround (available 10 AM - 9 PM)</li>
            </ul>
            <p><strong>Don't have a string? No problem!</strong> We can recommend the perfect string to match your playing style or help you source a specific one if you're short on time.</p>

            <p class="cta-string">
                <a href="strings.html" class="button">Discover Our Premium String Options &rarr;</a>
            </p>
        </section>

        <section id="payment" class="section-block">
            <h2>Secure Your Service</h2>
            <p>Select your service and provide any special instructions below. You can pay securely with a credit card, Apple Pay, or send an e-transfer to get started.</p>

            <div class="payment-form-container">
                <form id="stringing-order-form">
                    <label>Select Service:</label>
                    <div class="radio-group">
                        <input type="radio" id="service-standard" name="service" value="20" data-label="Standard BYO String" checked>
                        <label for="service-standard">$20 Standard (24/48hr)</label>
                        
                        <input type="radio" id="service-express" name="service" value="25" data-label="Express BYO String">
                        <label for="service-express">$25 Express (<1hr)</label>
                    </div>

                    <label for="string-price">Cost of String (if purchased from us - $0 if BYO):</label>
                    <div class="input-with-dollar">
                        <span>$</span>
                        <input type="number" id="string-price" placeholder="e.g., 10, 15, or 0" value="0" min="0">
                    </div>
                    
                    <label for="description">Stringing Notes (Tension, String Type, etc.):</label>
                    <textarea id="description" rows="3" placeholder="e.g., Mains: 55 lbs, Crosses: 52 lbs, Hybrid (Poly/Syn Gut), Please replace my grip."></textarea>

                    <div class="total-price">
                        <strong>Total Due: $<span id="display-total">20.00</span></strong>
                    </div>

                    <button type="button" id="pay-now-button" class="button payment-button">Calculate & Pay Now (Demo)</button>
                </form>
            </div>

            <p style="margin-top: 20px;">Or use the direct payment buttons below:</p>

            <script async
              src="https://js.stripe.com/v3/buy-button.js">
            </script>
            <stripe-buy-button
              buy-button-id="buy_btn_1SBO9nRoAc5hHN9fftf2cmnN"
              publishable-key="pk_live_51PIkQKRoAc5hHN9f2RSDIixA12pTDVzHV8SrTrSKJXzYhNcEy6qtA69q2PKo08nnVgB9wkyglLO2TIPTTolYhBPy00zSnC8ryK"
            >
            </stripe-buy-button>
            
            <script async
              src="https://js.stripe.com/v3/buy-button.js">
            </script>
            <stripe-buy-button
              buy-button-id="buy_btn_1SBOSgRoAc5hHN9fjkrEqpZr"
              publishable-key="pk_live_51PIkQKRoAc5hHN9f2RSDIixA12pTDVzHV8SrTrSKJXzYhNcEy6qtA69q2PKo08nnVgB9wkyglLO2TIPTTolYhBPy00zSnC8ryK"
            >
            </stripe-buy-button>
            
            <p class="etransfer-info">
                        <a href="mailto:eduloor17@live.com?subject=E-Transfer%20for%20Tennis%20Stringing%20Service&body=Hello,%0D%0A%0D%0AI%20am%20sending%20an%20e-transfer%20for%20my%20tennis%20racquet%20stringing.%0D%0A%0D%0AName:%20[Your%20Full%20Name]%0D%0AOrder%20Details:%20[Please%20copy%20your%20notes%20from%20the%20form%20here]%0D%0A%0D%0AThank%20you!" class="button email-button">Click to Initiate E-Transfer</a>
                    </p>

                    <div class="etransfer-instructions">
                        <h4>E-transfer Instructions:</h4>
                        <ol>
                            <li>Click the button below to open your email client.</li>
                            <li>Log in to your Canadian bank's website or app and go to the Interac e-Transfer section.</li>
                            <li>Send the **exact total amount** to <strong>eduloor17@live.com</strong>.</li>
                            <li>Use the security question: "Sport you Play?" and the answer: "Tennis".</li>
                            <li>**Crucially**, in the "Message" box of the e-transfer, copy and paste the order details from the email you just created.</li>
                        </ol>
                    </div>
        </section>
        <section id="offers" class="section-block">
            <h2>Exclusive Offers</h2>
            <ul>
                <li><strong>Loyalty Program:</strong> String **3 racquets** with us, and get your **4th stringing service free**! (Automatically tracked for your convenience.)</li>
                <li><strong>Referral Program:</strong> Refer a friend and get a gift based on their first order!
                    <ul>
                        <li>If they order a stringing service, you get a free overgrip.</li>
                    </ul>
                </li>
            </ul>
        </section>

        <section id="experience" class="section-block">
            <h2>The Advantage of Experience</h2>
            <p>With years of experience playing and coaching tennis, from academic courts back home to the vibrant tennis community here in Toronto, I've had the privilege of playing with and analyzing countless racquet and string combinations. This hands-on expertise allows me to not only meticulously string your racquet but also to understand how the right stringing can truly unlock your potential on the court. I'm passionate about helping you find that perfect setup that enhances your power, control, and feel, allowing you to play your best tennis.</p>
            <h2>See Our Work</h2>
            <p>Curious about the quality of our craftsmanship? Take a look at our gallery to see some of the rackets we've recently worked on</p>
            <p class="cta-gallery">
                <a href="gallery.html" class="button">Recent Racket Stringing &rarr;</a>
            </p>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="contact-links">
                <h2>Ready to get your racquet strung?</h2>
                <p>Contact us today to discuss your stringing service or to book an appointment!</p>
                <a href="https://wa.me/16475737561?text=Hello!%20I'm%20interested%20in%20your%20tennis%20stringing%20service." target="_blank" class="contact-button whatsapp-button">Message on WhatsApp</a>
                <a href="mailto:eduloor17@live.com?subject=Tennis%20Stringing%20Inquiry" class="contact-button email-button">Send an Email</a>
                <p class="back-link"><a href="index.html">&larr; Back to Home</a></p>
            </div>
            <p>&copy; 2025 Precision Tennis Stringing. All rights reserved.</p>
        </div>
    </footer>

    <script>
    // --- PERFECT TENSION CALCULATOR LOGIC (MAINS + DIFFERENTIAL) ---
    const mainsSlider = document.getElementById('mains-slider');
    const differentialSlider = document.getElementById('differential-slider');
    
    const mainsValueDisplay = document.getElementById('current-mains-value'); 
    const differentialValueDisplay = document.getElementById('current-differential-value'); 

    const finalMainsDisplay = document.getElementById('final-mains-display');
    const finalCrossesDisplay = document.getElementById('final-crosses-display');
    const averageTensionDisplay = document.getElementById('current-tension-value');

    const descDisplay = document.getElementById('tension-description');
    
    const controlScore = document.getElementById('control-score');
    const powerScore = document.getElementById('power-score');
    const spinScore = document.getElementById('spin-score');
    
    const controlBar = document.getElementById('control-bar');
    const powerBar = document.getElementById('power-bar');
    const spinBar = document.getElementById('spin-bar');
    
    const recommendationDisplay = document.getElementById('tension-recommendation');
    const stringTipDisplay = document.getElementById('string-tip');

    // Maps tension (40-65) to a score (0-100)
    function calculateScore(tension, type) {
        const minTension = 40;
        const maxTension = 65;
        const range = maxTension - minTension;
        
        let score;
        
        if (type === 'control') {
            // Higher average tension = more control (Range 50-100)
            score = ((tension - minTension) / range) * 50 + 50; 
        } else if (type === 'power') {
            // Lower average tension = more power (Range 50-100)
            score = ((maxTension - tension) / range) * 50 + 50;
        } else if (type === 'spin') {
            // Spin peaks around the middle (50-55 lbs)
            const peak = 52.5; 
            const maxDiff = Math.abs(peak - minTension);
            const diff = Math.abs(tension - peak);
            score = 100 - (diff / maxDiff) * 35;
        }
        
        return Math.max(65, Math.min(100, score)).toFixed(0); 
    }

    function updateCalculator() {
        const mainsTension = parseInt(mainsSlider.value);
        const differentialDrop = parseInt(differentialSlider.value);
        
        // Calculation: Crosses Tension is Mains Tension MINUS the Differential Drop
        const crossesTension = mainsTension - differentialDrop;
        
        // Average Tension is used to drive Power/Control/Spin scores
        const averageTension = (mainsTension + crossesTension) / 2;

        // --- Update Slider & Final Setup Displays ---
        mainsValueDisplay.textContent = `${mainsTension} lbs`;
        differentialValueDisplay.textContent = `${differentialDrop} lbs`;
        
        finalMainsDisplay.textContent = `${mainsTension} lbs Mains`;
        finalCrossesDisplay.textContent = `${crossesTension} lbs Crosses`;
        averageTensionDisplay.textContent = `${averageTension.toFixed(0)} lbs`;

        // --- Calculate and Update Scores ---
        const control = calculateScore(averageTension, 'control');
        const power = calculateScore(averageTension, 'power');
        const spin = calculateScore(averageTension, 'spin');

        controlScore.textContent = control;
        powerScore.textContent = power;
        spinScore.textContent = spin;

        controlBar.style.width = `${control}%`;
        powerBar.style.width = `${power}%`;
        spinBar.style.width = `${spin}%`;

        // --- Update Descriptions and Tips ---
        let desc = "";
        let recommendation = "";
        let tip = "";
        
        // 1. Base description driven by AVERAGE tension
        if (averageTension <= 45) {
            desc = "**Ultra Power:** Max repulsion, soft feel.";
            recommendation = "**Recommended for:** Beginners, comfort seekers, or those with slower swing speeds.";
            tip = "For these low tensions, a **Multifilament or Natural Gut** will feel best.";
        } else if (averageTension <= 51) {
            desc = "**High Power/High Spin:** The modern standard. Great pocketing and depth.";
            recommendation = "**Recommended for:** Intermediate to advanced baseliners with moderate to fast swing speeds.";
            tip = "This is the optimal range for **Polyester (Poly)** strings to maximize spin and feel, especially in a hybrid setup.";
        } else if (averageTension <= 58) {
            desc = "**Balanced Performance:** The all-around sweet spot for consistency, power, and control.";
            recommendation = "**Recommended for:** All-court players looking for a predictable and reliable stringbed.";
            tip = "A **Poly/Synthetic Gut Hybrid** works excellently here to balance durability (poly mains) and comfort (syn gut crosses).";
        } else if (averageTension <= 65) {
            desc = "**Maximum Control:** Very firm feel for ultimate precision and directional stability.";
            recommendation = "**Recommended for:** Advanced players with powerful, fast swings who prioritize placement above all else.";
            tip = "Only use a high-quality **Poly** string at this tension. Be mindful of arm comfort.";
        }
        
        // 2. Add Differential Commentary
        if (differentialDrop > 3) {
            desc += " **(High Differential Drop:** This maximizes pocketing and spin potential.)";
        } else if (differentialDrop > 0) {
            desc += ` **(${differentialDrop} lbs Drop:** Standard professional practice for enhanced feel and stability.)`;
        } else if (differentialDrop === 0) {
            desc += " **(Zero Differential:** Provides the most consistent, but firmest, stringbed response.)";
        }

        descDisplay.innerHTML = desc;
        recommendationDisplay.innerHTML = recommendation;
        stringTipDisplay.innerHTML = tip;
    }

    // Event listeners for BOTH new sliders
    mainsSlider.addEventListener('input', updateCalculator);
    differentialSlider.addEventListener('input', updateCalculator);

    // Initial load call
    updateCalculator();


    // --- SERVICE/PAYMENT CALCULATOR LOGIC ---
    document.addEventListener('DOMContentLoaded', function() {
        // Since updateCalculator() is called outside this listener now, we ensure it's still called on page load
        // by placing it after the DOM is fully loaded.
        
        const serviceRadios = document.querySelectorAll('input[name="service"]');
        const stringPriceInput = document.getElementById('string-price');
        const displayTotal = document.getElementById('display-total');
        const payNowButton = document.getElementById('pay-now-button');

        function calculateTotal() {
            const checkedService = document.querySelector('input[name="service"]:checked');
            let servicePrice = checkedService ? parseFloat(checkedService.value) : 0;
            
            let stringPrice = parseFloat(stringPriceInput.value) || 0;
            let total = servicePrice + stringPrice;
            displayTotal.textContent = total.toFixed(2);
        }

        serviceRadios.forEach(radio => radio.addEventListener('change', calculateTotal));
        stringPriceInput.addEventListener('input', calculateTotal);
        
        // Initial calculation for both sections on page load
        // updateCalculator is called outside this listener, so we only need to call calculateTotal here:
        calculateTotal(); 

        // Placeholder for payment button
        payNowButton.addEventListener('click', function(event) {
            event.preventDefault(); 
            
            const checkedService = document.querySelector('input[name="service"]:checked');
            const serviceLabel = checkedService ? checkedService.dataset.label : "N/A";

            const stringCost = parseFloat(stringPriceInput.value) || 0;
            const description = document.getElementById('description').value;
            const totalAmount = displayTotal.textContent;

            console.log("Order Details:");
            console.log(`- Service: ${serviceLabel}`);
            console.log(`- String Cost: $${stringCost.toFixed(2)}`);
            console.log(`- Total: $${totalAmount}`);
            console.log(`- Notes: ${description}`);

            alert(`The total is $${totalAmount}. This is where you would connect to a payment gateway like Stripe or PayPal.`);
        });
    });
    </script>
</body>
</html>
